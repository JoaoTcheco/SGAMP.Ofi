<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
xmlns:sec="http://www.thymeleaf.org/extras/spring-security"> <head>
<meta charset="UTF-8">
<title>Painel - Sistema Médico</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { padding-top: 50px; background-color: #f4f7f6; }
.container { max-width: 960px; }
.navbar { margin-bottom: 20px; }
.card-link { text-decoration: none; color: inherit; }
.card { margin-bottom: 20px; transition: transform .2s; }
.card:hover { transform: scale(1.03); }
.welcome-message { margin-bottom: 30px; }
</style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top">
<div class="container-fluid">
<a class="navbar-brand" th:href="@{/painel}">Sistema Médico</a>
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">
<li class="nav-item" sec:authorize="isAuthenticated()">
<span class="navbar-text me-3">
Bem-vindo(a), <strong th:text="${nomeUsuarioLogado ?: principal.username}">Usuário</strong>!
</span>
</li>
<li class="nav-item">
<form th:action="@{/logout}" method="post" class="d-inline">
<button type="submit" class="btn btn-outline-light">Sair</button>
</form>
</li>
</ul>
</div>
</div>
</nav>

        <div class="container mt-5 pt-3">
            <div class="text-center welcome-message">
                <h2>Painel de Controle</h2>
                <p class="lead">Selecione uma das opções abaixo para gerenciar os arquivos médicos.</p>
            </div>

            <div th:if="${param.pacienteCriado}" class="alert alert-success" role="alert">
                Paciente cadastrado com sucesso!
            </div>
             <div th:if="${param.consultaCriada}" class="alert alert-success" role="alert">
                Consulta salva com sucesso!
            </div>


            <div class="row text-center">
                <div class="col-md-4">
                    <a th:href="@{/pacientes/novo}" class="card-link">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title">Cadastrar Paciente</h5>
                                <p class="card-text">Adicionar um novo paciente ao sistema.</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4">
                    <a th:href="@{/pacientes/procurar}" class="card-link">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title">Procurar Paciente</h5>
                                <p class="card-text">Buscar um paciente existente por nome.</p>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4">
                     <a th:href="@{/pacientes/listar}" class="card-link">
                        <div class="card shadow-sm">
                            <div class="card-body">
                                <h5 class="card-title">Listar Pacientes</h5>
                                <p class="card-text">Visualizar e filtrar a lista de pacientes.</p>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>

        <footer class="text-center mt-5 py-3 bg-light">
            <p>&copy; <span th:text="${#dates.year(#dates.createNow())}">2025</span> Sistema de Gestão de Arquivos Médicos de Pacientes. Todos os direitos reservados.</p>
        </footer>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    </body>
    </html>